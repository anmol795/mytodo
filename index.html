<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anmol's Productivity Hub</title>
    <!-- Google Fonts for Enhanced Typography -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Reset and Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f7fa;
            color: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }

        /* Container */
        .container {
            width: 100%;
            max-width: 600px;
            background: #ffffff;
            padding: 25px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        /* Header */
        h1 {
            text-align: center;
            color: #34495e;
            margin-bottom: 15px; /* Reduced space below header */
            font-size: 26px;
            font-weight: 700;
        }

        /* Inspirational Quote */
        .quote {
            text-align: center;
            font-style: italic;
            color: #7f8c8d;
            margin-bottom: 15px; /* Reduced space below quote */
            min-height: 50px;
            transition: opacity 0.5s ease-in-out;
            font-size: 16px;
            background-color: #e8f4fa; /* Light highlight */
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }

        /* Input Section */
        .input-section {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .input-section input[type="text"] {
            flex: 1;
            padding: 12px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            font-size: 16px;
            background-color: #ecf0f1;
            color: #2c3e50;
            transition: border-color 0.3s, background-color 0.3s, color 0.3s;
        }

        .input-section input[type="text"]:focus {
            border-color: #3498db;
            outline: none;
            background-color: #ffffff;
        }

        .input-section button {
            padding: 12px 20px;
            background-color: #3498db;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            flex-shrink: 0;
        }

        .input-section button:hover {
            background-color: #2980b9;
        }

        /* Daily Task Checkbox */
        .daily-task {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        /* Filter and Report Section */
        .filter-report-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 20px;
        }

        .filter-report-section select {
            flex: 1;
            padding: 8px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            font-size: 14px;
            background-color: #ecf0f1;
            color: #2c3e50;
            transition: border-color 0.3s, background-color 0.3s, color 0.3s;
        }

        .filter-report-section select:focus {
            border-color: #3498db;
            outline: none;
            background-color: #ffffff;
        }

        .filter-report-section button {
            padding: 10px 15px;
            background-color: #2ecc71;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
            flex-shrink: 0;
        }

        .filter-report-section button:hover {
            background-color: #27ae60;
        }

        /* Report Display */
        .report-display {
            display: none;
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .report-display h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #34495e;
        }

        .report-display p {
            font-size: 14px;
            margin-bottom: 5px;
            color: #2c3e50;
        }

        /* Task List */
        ul {
            list-style: none;
        }

        li {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #ffffff;
            padding: 12px 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border-left: 5px solid #3498db;
            transition: background-color 0.3s, border-left-color 0.3s, transform 0.3s;
        }

        li.completed {
            background-color: #dff0d8;
            border-left-color: #27ae60;
            text-decoration: line-through;
            color: #7f8c8d;
            transform: scale(1.02);
        }

        /* Animation for Task Completion */
        li.completed {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .task-details {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
            flex-wrap: nowrap;
        }

        .task-details input[type="checkbox"] {
            transform: scale(1.3);
            cursor: pointer;
        }

        .task-info {
            display: flex;
            flex-direction: column;
            flex: 1;
            overflow: hidden;
        }

        .task-info .task-text {
            font-size: 16px;
            color: #2c3e50;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .task-info .task-meta {
            font-size: 12px;
            color: #7f8c8d;
        }

        .task-actions {
            display: flex;
            gap: 8px;
        }

        .task-actions button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
            border-radius: 5px;
            transition: background-color 0.3s;
            color: #2c3e50;
        }

        .task-actions button.edit {
            color: #f1c40f;
        }

        .task-actions button.edit:hover {
            background-color: #f9e79f;
        }

        .task-actions button.delete {
            color: #e74c3c;
        }

        .task-actions button.delete:hover {
            background-color: #f5b7b1;
        }

        /* Daily Task Indicator */
        .daily-indicator {
            display: inline-block;
            background-color: #2ecc71;
            color: #ffffff;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            margin-left: 5px;
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .input-section {
                flex-direction: column;
            }

            .input-section button {
                width: 100%;
            }

            .filter-report-section {
                flex-direction: column;
                align-items: flex-start;
            }

            .filter-report-section select {
                width: 100%;
            }

            .filter-report-section button {
                width: 100%;
                margin-top: 10px;
            }

            .report-section {
                width: 100%;
            }

            .task-details {
                flex-direction: row;
                gap: 10px;
            }

            .task-actions {
                justify-content: flex-end;
                width: 100%;
                margin-top: 5px;
            }

            .task-actions button {
                font-size: 20px;
                padding: 8px;
            }

            .task-info .task-text {
                font-size: 16px;
            }

            .task-info .task-meta {
                font-size: 12px;
            }

            .quote {
                font-size: 15px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to Anmol's Productivity Hub</h1>
        <div class="quote" id="quote">Loading inspirational quote...</div>
        <div class="input-section">
            <input type="text" id="taskInput" placeholder="Enter a new task">
            <button onclick="addTask()">Add Task</button>
        </div>
        <div class="daily-task">
            <input type="checkbox" id="dailyTaskCheckbox">
            <label for="dailyTaskCheckbox">Mark as Daily Task</label>
        </div>
        <div class="filter-report-section">
            <select id="filterSelect" onchange="renderTasks()">
                <option value="all">All Tasks</option>
                <option value="completed">Completed</option>
                <option value="pending">Pending</option>
            </select>
            <button onclick="showReport()">Show Report</button>
        </div>
        <div class="report-display" id="reportDisplay">
            <h2>Task Report</h2>
            <p id="completedCount">Completed Tasks: 0</p>
            <p id="pendingCount">Pending Tasks: 0</p>
        </div>
        <ul id="taskList"></ul>
    </div>

    <script>
        // Initialize tasks array from localStorage or empty
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        let lastResetDate = localStorage.getItem('lastResetDate') || '';

        // Array of motivational quotes
        const quotes = [
            "The future depends on what you do today. â€“ Mahatma Gandhi",
            "Start where you are. Use what you have. Do what you can. â€“ Arthur Ashe",
            "The only way to do great work is to love what you do. â€“ Steve Jobs",
            "Believe you can and you're halfway there. â€“ Theodore Roosevelt",
            "Don't watch the clock; do what it does. Keep going. â€“ Sam Levenson",
            "Success is not for the lazy.",
            "Dream it. Wish it. Do it.",
            "The harder you work for something, the greater you'll feel when you achieve it.",
            "Keep your face always toward the sunshineâ€”and shadows will fall behind you. â€“ Walt Whitman",
            "It does not matter how slowly you go as long as you do not stop. â€“ Confucius"
        ];

        // Function to display the daily motivational quote
        function displayQuote() {
            const quoteElement = document.getElementById('quote');
            const today = new Date();
            const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
            const quoteIndex = dayOfYear % quotes.length;
            // Fade out current quote
            quoteElement.style.opacity = 0;
            setTimeout(() => {
                quoteElement.textContent = quotes[quoteIndex];
                // Fade in new quote
                quoteElement.style.opacity = 1;
            }, 500);
        }

        // Function to reset daily tasks if a new day has started
        function resetDailyTasks() {
            const todayDate = new Date().toDateString();
            if (lastResetDate !== todayDate) {
                tasks = tasks.map(task => {
                    if (task.daily && task.completed) {
                        return { ...task, completed: false };
                    }
                    return task;
                });
                lastResetDate = todayDate;
                localStorage.setItem('tasks', JSON.stringify(tasks));
                localStorage.setItem('lastResetDate', lastResetDate);
            }
        }

        // Call displayQuote and resetDailyTasks on page load
        window.onload = function() {
            displayQuote();
            resetDailyTasks();
            renderTasks();
            scheduleDailyReset();
        }

        // Function to save tasks to localStorage
        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        // Function to add a new task
        function addTask() {
            const taskInput = document.getElementById("taskInput");
            const dailyTaskCheckbox = document.getElementById("dailyTaskCheckbox");
            const taskText = taskInput.value.trim();
            const isDaily = dailyTaskCheckbox.checked;

            if (taskText === "") {
                alert("Please enter a task.");
                return;
            }

            // Check for duplicate daily tasks
            if (isDaily) {
                const duplicate = tasks.some(task => task.text.toLowerCase() === taskText.toLowerCase() && task.daily);
                if (duplicate) {
                    alert("This daily task already exists.");
                    return;
                }
            }

            const task = {
                id: Date.now(),
                text: taskText,
                completed: false,
                daily: isDaily,
                createdAt: new Date().toLocaleString()
            };

            tasks.push(task);
            saveTasks();
            renderTasks();
            taskInput.value = "";
            dailyTaskCheckbox.checked = false;
        }

        // Function to delete a task without confirmation
        function deleteTask(id) {
            tasks = tasks.filter(task => task.id !== id);
            saveTasks();
            renderTasks();
        }

        // Function to toggle task completion
        function toggleCompletion(id) {
            tasks = tasks.map(task => {
                if (task.id === id) {
                    return { ...task, completed: !task.completed };
                }
                return task;
            });
            saveTasks();
            renderTasks();
        }

        // Function to edit a task
        function editTask(id) {
            const task = tasks.find(task => task.id === id);
            if (!task) return;

            const newText = prompt("Edit your task:", task.text);
            if (newText !== null) {
                const trimmedText = newText.trim();
                if (trimmedText === "") {
                    alert("Task cannot be empty.");
                    return;
                }

                // If the task is daily, check for duplicates
                if (task.daily) {
                    const duplicate = tasks.some(t => t.text.toLowerCase() === trimmedText.toLowerCase() && t.daily && t.id !== id);
                    if (duplicate) {
                        alert("A daily task with this name already exists.");
                        return;
                    }
                }

                tasks = tasks.map(task => {
                    if (task.id === id) {
                        return { ...task, text: trimmedText };
                    }
                    return task;
                });
                saveTasks();
                renderTasks();
            }
        }

        // Function to render tasks
        function renderTasks() {
            const taskList = document.getElementById("taskList");
            taskList.innerHTML = "";

            const filter = document.getElementById("filterSelect").value;

            // Sort tasks by creation date (newest first)
            const sortedTasks = tasks.sort((a, b) => b.id - a.id);

            sortedTasks.forEach((task) => {
                // Apply filters
                if (filter === "completed" && !task.completed) return;
                if (filter === "pending" && task.completed) return;

                const li = document.createElement("li");
                if (task.completed) {
                    li.classList.add("completed");
                }

                // Task Details
                const taskDetails = document.createElement("div");
                taskDetails.className = "task-details";

                // Checkbox
                const checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.checked = task.completed;
                checkbox.onclick = () => toggleCompletion(task.id);

                // Task Info
                const taskInfo = document.createElement("div");
                taskInfo.className = "task-info";

                const taskText = document.createElement("span");
                taskText.className = "task-text";
                taskText.textContent = task.text;

                if (task.daily) {
                    const dailyIndicator = document.createElement("span");
                    dailyIndicator.className = "daily-indicator";
                    dailyIndicator.textContent = "Daily";
                    taskText.appendChild(dailyIndicator);
                }

                const taskMeta = document.createElement("span");
                taskMeta.className = "task-meta";
                taskMeta.textContent = `Created at: ${task.createdAt}`;

                taskInfo.appendChild(taskText);
                taskInfo.appendChild(taskMeta);

                taskDetails.appendChild(checkbox);
                taskDetails.appendChild(taskInfo);

                // Task Actions
                const taskActions = document.createElement("div");
                taskActions.className = "task-actions";

                const editBtn = document.createElement("button");
                editBtn.className = "edit";
                editBtn.title = "Edit Task";
                editBtn.innerHTML = "âœï¸";
                editBtn.onclick = () => editTask(task.id);

                const deleteBtn = document.createElement("button");
                deleteBtn.className = "delete";
                deleteBtn.title = "Delete Task";
                deleteBtn.innerHTML = "ðŸ—‘ï¸";
                deleteBtn.onclick = () => deleteTask(task.id);

                taskActions.appendChild(editBtn);
                taskActions.appendChild(deleteBtn);

                li.appendChild(taskDetails);
                li.appendChild(taskActions);

                taskList.appendChild(li);
            });
        }

        // Function to show report
        function showReport() {
            const reportDisplay = document.getElementById("reportDisplay");
            const completedCount = tasks.filter(task => task.completed).length;
            const pendingCount = tasks.filter(task => !task.completed).length;

            document.getElementById("completedCount").textContent = `Completed Tasks: ${completedCount}`;
            document.getElementById("pendingCount").textContent = `Pending Tasks: ${pendingCount}`;

            // Toggle visibility
            if (reportDisplay.style.display === "none" || reportDisplay.style.display === "") {
                reportDisplay.style.display = "block";
            } else {
                reportDisplay.style.display = "none";
            }
        }

        // Function to reset daily tasks at midnight if the app is open
        function scheduleDailyReset() {
            const now = new Date();
            const millisTillMidnight = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0, 0) - now;
            setTimeout(() => {
                resetDailyTasks();
                renderTasks();
                scheduleDailyReset(); // Schedule next reset
            }, millisTillMidnight);
        }

        // Optional: Add task on Enter key press
        document.getElementById("taskInput").addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                addTask();
            }
        });
    </script>
</body>
</html>
